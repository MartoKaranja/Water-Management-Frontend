<mat-card>
  <mat-card-header>
    <span class='material-icons tw-px-2'>group_add</span>
    <h5>Active User Records</h5>

  </mat-card-header>

  <mat-card-content>
    <table width="100%" class="tw-table-auto tw-shadow-lg tw-bg-white">
      <thead class="tw-bg-gray-100 dark:tw-bg-gray-700">
        <tr>
          <th class="tw-bg-blue-100 tw-border tw-text-left tw-py-4 tw-px-2">User Name</th>
          <th class="tw-bg-blue-100 tw-border tw-text-left tw-py-4 tw-px-2"> Current Balance</th>
          <th class="tw-bg-blue-100 tw-border tw-text-left tw-py-4 tw-px-2"> Meter Reading</th>
          <th class="tw-bg-blue-100 tw-border tw-text-left tw-py-4 tw-px-2"> Landlord</th>
      </tr>
    </thead>
    <tbody class="tw-bg-white tw-divide-y tw-divide-gray-200" *ngIf="record_tables">
      <tr  class="tw-hover:bg-gray-100 dark:hover:tw-bg-gray-700" *ngFor="let result of record_tables.results">
        <td class="tw-py-2 tw-px-2"><a [routerLink]="['/client-dashboard', result.user.username]" class="tw-no-underline tw-text-blue-500 hover:tw-text-blue-700">{{result.user.username}}</a></td>
        <td class="tw-py-2 tw-px-2">{{result.meter.current_balance}}</td>
        <td class="tw-py-2 tw-px-2">{{result.meter.meter_reading}}</td>
        <td class="tw-py-2 tw-px-2">{{result.landlord.landlord_name}}</td>

      <tr *ngIf="record_tables.results.length === 0">
        <td colspan = "4" style = "text-align: center"><div class="alert alert-secondary" role="alert">No users found</div></td>

      </tr>
    </tbody>

    </table>
    <div class="row tw-py-2">
      <div class="col-md-12 tw-flex">
        <button type="button" class="tw-m-1 tw-text-white tw-bg-blue-700 tw-hover:bg-blue-800 tw-focus:outline-none tw-focus:ring-4 tw-focus:ring-blue-300 tw-font-medium tw-rounded-full tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 tw-mb-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:ring-blue-800 tw-w-full tw-flex-1" [routerLink]="['/admin-dashboard/add-user']">Add New User</button>
        <button type="button" class="tw-m-1 tw-text-white tw-bg-blue-700 tw-hover:bg-blue-800 tw-focus:outline-none tw-focus:ring-4 tw-focus:ring-blue-300 tw-font-medium tw-rounded-full tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 tw-mb-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:ring-blue-800 tw-w-full tw-flex-1" (click)="updateRecords()">Update Consumption Records</button>
      </div>
    </div>



  </mat-card-content>
  <mat-progress-bar [mode]="progressBarMode"></mat-progress-bar>
</mat-card>
