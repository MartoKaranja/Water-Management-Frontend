<mat-card>
  <mat-card-header>
    <span class='material-icons tw-px-2'>group_add</span>
    <h5 >Client Ac details</h5>

  </mat-card-header>

  <mat-card-content>
    <table mat-table  *ngIf="record_tables" [dataSource]="record_tables.results" class="mat-elevation-z8">
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef> User Name </th>
        <td mat-cell *matCellDef="let result"> <a [routerLink]="['/client-dashboard', result.user.username]" class="tw-no-underline tw-text-blue-500 hover:tw-text-blue-700">{{result.user.username}}</a> </td>
      </ng-container>

      <ng-container matColumnDef="current_balance">
        <th mat-header-cell *matHeaderCellDef> Current Balance </th>
        <td mat-cell *matCellDef="let result"> {{result.meter.current_balance}} </td>
      </ng-container>

      <ng-container matColumnDef="meter_reading">
        <th mat-header-cell *matHeaderCellDef> Meter Reading </th>
        <td mat-cell *matCellDef="let result"> {{result.meter.meter_reading}} </td>
      </ng-container>

      <ng-container matColumnDef="valve_state">
        <th mat-header-cell *matHeaderCellDef> Valve Status </th>
        <td mat-cell *matCellDef="let result"> {{result.meter.valve_state}} </td>
      </ng-container>

      <ng-container matColumnDef="landlord">
        <th mat-header-cell *matHeaderCellDef> Landlord </th>
        <td mat-cell *matCellDef="let result"> {{result.landlord.landlord_name}} </td>
      </ng-container>

      <ng-container matColumnDef="edit_user_details">
        <th mat-header-cell *matHeaderCellDef> Edit User Details </th>
        <td mat-cell *matCellDef="let result">
          <a mat-raised-button class="mat-small" color="accent" [routerLink]="['/user-management', record_tables.results[0].user.id]">Update Details</a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" style="background-color: #DBEAFE; font-weight : bold; padding-top: 1rem;"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <div class="row tw-py-2">
      <div class="col-md-3">
        <a type="button" class="btn btn-primary w-100" [routerLink]="['/user-management']" >Update User Details</a>

      </div>
      <div class="col-md-3">
        <button type="button" class="btn btn-success w-100" >Update Meter Records</button>
      </div>
      <div class="col-md-3">

        <button type="button" class="btn btn-warning w-100"  >Close/Open Valve</button>
      </div>
      <div class="col-md-3">
        <button type="button" class="btn btn-info w-100" [routerLink]="['/admin-dashboard/add-user']">Top Up Balance</button>
      </div>


    </div>
  </mat-card-content>
  <mat-progress-bar [mode]="progressBarMode"></mat-progress-bar>
</mat-card>
