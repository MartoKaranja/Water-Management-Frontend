<mat-card>
  <mat-card-header>
    <span class='material-icons'>document_scanner</span>
    <h5 class="tw-underline">Task Cost Usage</h5>

  </mat-card-header>

  <mat-card-content>

      <mat-table [dataSource]="table_source" class="mat-elevation-z8 custom-table">
        <ng-container matColumnDef="questions_queued">
          <mat-header-cell *matHeaderCellDef>Questions Queued</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.questions_queued }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="questions_completed">
          <mat-header-cell *matHeaderCellDef>Questions Completed</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.content_generated }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="time_started">
          <mat-header-cell *matHeaderCellDef>Time Started</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.time_started | date:'EE, MMM d, yy h:mm a'}}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="time_completed">
          <mat-header-cell *matHeaderCellDef>Time Completed</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.time_completed | date: 'EE h:mm a' }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="prompt_tokens">
          <mat-header-cell *matHeaderCellDef>Prompt Tokens</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.prompt_tokens }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="input_cost">
          <mat-header-cell *matHeaderCellDef>Input Cost</mat-header-cell>
          <mat-cell *matCellDef="let element">
            $ {{ element.input_cost }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="completion_tokens">
          <mat-header-cell *matHeaderCellDef>Completion Tokens</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.completion_tokens }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="output_cost">
          <mat-header-cell *matHeaderCellDef>Output cost</mat-header-cell>
          <mat-cell *matCellDef="let element">
            $ {{ element.output_cost }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="total_tokens">
          <mat-header-cell *matHeaderCellDef>Total Tokens</mat-header-cell>
          <mat-cell *matCellDef="let element">
            {{ element.total_tokens }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="total_cost">
          <mat-header-cell *matHeaderCellDef>Total Cost</mat-header-cell>
          <mat-cell *matCellDef="let element">
            $ {{ element.total_cost }}
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="no">
          <mat-header-cell *matHeaderCellDef>View</mat-header-cell>
          <mat-cell *matCellDef="let element" >
            <a [routerLink]="['/questions/generated-answers-history', element.no]" mat-raised-button color="primary">Export</a>
          </mat-cell>
        </ng-container>



        <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
        <mat-row *matRowDef="let row; columns: columnsToDisplay;"></mat-row>
      </mat-table>


  </mat-card-content>
  <mat-card-footer>
    <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100, 200, 500, 1000, 2000, 5000, 10000]" showFirstLastButtons [length]="totalItems" ></mat-paginator>
  </mat-card-footer>
  <mat-progress-bar [mode]="progressBarMode"></mat-progress-bar>
</mat-card>
